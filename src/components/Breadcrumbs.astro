---
import { generateBreadcrumbSchema } from "../utils/seo.js";

interface BreadcrumbItem {
  name: string;
  url?: string;
}

interface Props {
  items: BreadcrumbItem[];
}

const { items } = Astro.props;
const schema = generateBreadcrumbSchema(items);
---

<section class="bg-white border-b border-gray-100">
  <nav aria-label="Breadcrumb" class="max-w-7xl mx-auto px-4 lg:px-8 py-3">
    <ol class="flex flex-wrap items-center gap-1 text-sm text-navy/50">
      {
        items.map((item, i) => (
          <li class="flex items-center gap-1">
            {i > 0 && <span class="text-navy/30 mx-1">/</span>}
            {item.url ? (
              <a href={item.url} class="hover:text-primary transition-colors">
                {item.name}
              </a>
            ) : (
              <span class="text-navy font-semibold" aria-current="page">
                {item.name}
              </span>
            )}
          </li>
        ))
      }
    </ol>
  </nav>
</section>
<script type="application/ld+json" set:html={JSON.stringify(schema)} />
